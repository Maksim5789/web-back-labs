{% extends "base.html" %}

{% block lab %}Личные статьи{% endblock %}

{% block main %}
    <h1>Личные статьи</h1>
    {% for article in articles %}
        <h2>{{ article['title'] }}</h2>
        <blockquote>{{ article['article_text'] }}</blockquote>
        
        <!-- Кнопка для редактирования статьи -->
        <a href="{{ url_for('lab8.edit', id=article['id']) }}">
            <button type="button">Редактировать</button>
        </a>
        
        <form method="POST" action="{{ url_for('lab8.toggle_favorite', id=article['id']) }}">
            <button type="submit">{{ "Убрать из любимых" if article['is_favorite'] else "Добавить в любимые" }}</button>
        </form>
        <form method="POST" action="{{ url_for('lab8.toggle_public', id=article['id']) }}">
            <button type="submit">{{ "Сделать приватной" if article['is_public'] else "Сделать публичной" }}</button>
        </form>
        
        <!-- Форма для удаления статьи -->
        <form method="POST" action="{{ url_for('lab8.delete', id=article['id']) }}">
            <button type="submit" onclick="return confirm('Вы уверены, что хотите удалить эту статью?');">Удалить</button>
        </form>
        
        <hr>
    {% endfor %}
    <a href="{{ url_for('lab8.public_articles') }}">Перейти к публичным статьям</a>  
    <p> </p>
    <a href="/lab8/">Меню лабораторной</a>
{% endblock %}
